<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>Git(一) · A Sort Of A Blog</title><meta name="description" content="版本控制是软件开发中必不可少的工具，本篇，我们来介绍目前最流行的版本控制系统 —— Git。
Configuring Git
第一次使用时，我们需要进行一些配置。例如: 

Name
Email
Default Editor
Line Ending

我们可以在三个不同层级进行配置: 

SYSTE"><meta name="keywords" content=""><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="https://cdn.jsdelivr.net/gh/1ess/cdn/h4cker/favicon-32x32.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style-dark.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title">0x7c00</a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">张冬冬的博客</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">首頁</a></li><li><a href="/archives">歸檔</a></li><li class="soc"><a href="https://github.com/1ess" target="_blank" rel="noopener noreferrer"><i class="fa fa-github">&nbsp;</i></a><a href="https://1ess.github.io/atom.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2021&nbsp;</p><p>如果五分钟后她必须进安检，如果安检在十米之外</p><p>那意味着，你们可以亲吻四分五十秒。&nbsp;</p></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>Git(一)</a></p><p class="post-meta"><span class="date meta-item">發佈於&nbsp;2020-12-25</span></p><p class="post-abstract"><p>版本控制是软件开发中必不可少的工具，本篇，我们来介绍目前最流行的版本控制系统 —— Git。</p>
<h2 id="Configuring-Git"><a href="#Configuring-Git" class="headerlink" title="Configuring Git"></a>Configuring Git</h2><hr>
<p>第一次使用时，我们需要进行一些配置。例如: </p>
<ul>
<li>Name</li>
<li>Email</li>
<li>Default Editor</li>
<li>Line Ending</li>
</ul>
<p>我们可以在三个不同层级进行配置: </p>
<ul>
<li>SYSTEM: All users</li>
<li>GLOBAL: All repositories of the current user</li>
<li>LOCAL: The current repository</li>
</ul>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git config --global user.name <span class="hljs-string">&quot;1ess&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;pipelining@qq.com&quot;</span><br>git config --global core.editor <span class="hljs-string">&quot;code --wait&quot;</span><br>git config --global diff.tool vscode<br>git config --global difftool.vscode.cmd <span class="hljs-string">&quot;code --wait --diff <span class="hljs-variable">$LOCAL</span> <span class="hljs-variable">$REMOTE</span>&quot;</span><br><br><span class="hljs-comment"># Windows</span><br>git config --global core.autocrlf <span class="hljs-literal">true</span><br><br><span class="hljs-comment"># Unix/Linux</span><br>git config --global core.autocrlf input<br></code></pre></td></tr></table></figure>

<p>我们也可以使用如下命令</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git config --global -e <br></code></pre></td></tr></table></figure>

<p>在编辑器中编辑配置。</p>
<h2 id="Cheat-Sheet"><a href="#Cheat-Sheet" class="headerlink" title="Cheat Sheet"></a>Cheat Sheet</h2><h3 id="Initializing-a-Repository"><a href="#Initializing-a-Repository" class="headerlink" title="Initializing a Repository"></a>Initializing a Repository</h3><figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git init<br><span class="hljs-comment"># Initialized empty Git repository in ~/Project/.git/</span><br></code></pre></td></tr></table></figure>

<h3 id="Staging-Files"><a href="#Staging-Files" class="headerlink" title="Staging Files"></a>Staging Files</h3><figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git add file1.txt file2.txt<br>git add *.txt<br>git add .<br></code></pre></td></tr></table></figure>

<h3 id="Committing-Changes"><a href="#Committing-Changes" class="headerlink" title="Committing Changes"></a>Committing Changes</h3><figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git commit -m <span class="hljs-string">&quot;Initial Commit.&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Committing-Best-Practices"><a href="#Committing-Best-Practices" class="headerlink" title="Committing Best Practices"></a>Committing Best Practices</h3><p><strong>As you reach a state you want to record, THEN make a commit.</strong><br>例如，当你正在进行 Bug fix，突然发现一个 Typo，不应一次提交所有更改，应该是有两次单独提交。并且每次的提交消息要明确，因为他会显示在提交历史中。</p>
<h3 id="Remove-Files"><a href="#Remove-Files" class="headerlink" title="Remove Files"></a>Remove Files</h3><figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git rm file1.txt<br>git rm *.txt<br>git rm .<br></code></pre></td></tr></table></figure>

<p>git rm 与 rm 命令不同之处在于: </p>
<ul>
<li>git rm: 直接在工作区和暂存区移除文件</li>
<li>rm: 只在工作区移除，如果希望暂存区也移除，需要使用 git add 命令</li>
</ul>
<p>简单来说，git rm 相当于 rm + git add。</p>
<h3 id="Renaming-or-Moving-Files"><a href="#Renaming-or-Moving-Files" class="headerlink" title="Renaming or Moving Files"></a>Renaming or Moving Files</h3><p>与移除类似，Git 也提供一个命令执行重命名文件: </p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git mv file1.txt main.js<br></code></pre></td></tr></table></figure>

<h3 id="Ignoring-Files"><a href="#Ignoring-Files" class="headerlink" title="Ignoring Files"></a>Ignoring Files</h3><p>我们使用 .gitignore 文件来忽略我们不希望 Git 来管理的文件或文件夹。<br>需要注意，如果 Git 已经管理某些文件或文件夹，我们再添加到 .gitignore 中就不起作用了，我们只需要先在暂存区移除不希望管理的文件或文件夹即可。</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git rm --cached -r logs/<br></code></pre></td></tr></table></figure>

<h3 id="Viewing-the-Staged-amp-Unstaged-Changes"><a href="#Viewing-the-Staged-amp-Unstaged-Changes" class="headerlink" title="Viewing the Staged &amp; Unstaged Changes"></a>Viewing the Staged &amp; Unstaged Changes</h3><p>我们可以使用如下命令来比较最新一次提交和当前暂存区的变化: </p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git diff --staged<br></code></pre></td></tr></table></figure>

<p>如果不带参数则比较工作区与暂存区的变化: </p>
<figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git diff<br></code></pre></td></tr></table></figure>

<h3 id="View-the-History"><a href="#View-the-History" class="headerlink" title="View the History"></a>View the History</h3><figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git <span class="hljs-built_in">log</span><br>git <span class="hljs-built_in">log</span> --oneline<br></code></pre></td></tr></table></figure>

<h3 id="View-a-Commit"><a href="#View-a-Commit" class="headerlink" title="View a Commit"></a>View a Commit</h3><figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh">git show &#123;commitId&#125;<br></code></pre></td></tr></table></figure>

<h3 id="Unstaging-Files"><a href="#Unstaging-Files" class="headerlink" title="Unstaging Files"></a>Unstaging Files</h3><figure class="highlight sh"><table><tr><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># 恢复暂存区的文件</span><br>git restore --staged file1.txt<br><br><span class="hljs-comment"># 恢复工作区文件，即取消本次未添加到暂存区的工作区的修改</span><br>git restore file2.txt<br></code></pre></td></tr></table></figure>

<p>restore 命令依据的是下一个环境进行恢复，暂存区的下一个环境为上一次提交，工作区的下一个环境为暂存区。</p>
</p></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/Git(%E4%BA%8C)/" title="Git(二)"><i class="fa fa-angle-double-left"></i>&nbsp;上一篇: Git(二)</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/Oracle%20%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8B%BE%E9%81%97(%E5%9B%9B)/" title="Oracle 数据库拾遗(四)">下一篇: Oracle 数据库拾遗(四)&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2021&nbsp;</p><p>如果五分钟后她必须进安检，如果安检在十米之外</p><p>那意味着，你们可以亲吻四分五十秒。&nbsp;</p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>
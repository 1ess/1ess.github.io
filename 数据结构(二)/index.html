<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title> · A Sort Of A Blog</title><meta name="description" content="本篇，我们将会复习一下比较简单但是应用非常广泛的一种数据结构 —— 线性表。
线性表
线性表(List): 零个或多个数据元素的有限序列。
如果用数学语言定义如下:若将线性表记为(a1, …, ai-1, ai, ai+1, …, an)，则表中 ai-1 领先于 ai，ai 领先于 ai+1，称 "><meta name="keywords" content=""><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="https://cdn.jsdelivr.net/gh/1ess/cdn/h4cker/favicon-32x32.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style-dark.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title">0x7c00</a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">张冬冬的博客</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">首頁</a></li><li><a href="/archives">歸檔</a></li><li class="soc"><a href="https://github.com/1ess" target="_blank" rel="noopener noreferrer"><i class="fa fa-github">&nbsp;</i></a><a href="https://1ess.github.io/atom.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2021&nbsp;</p><p>如果五分钟后她必须进安检，如果安检在十米之外</p><p>那意味着，你们可以亲吻四分五十秒。&nbsp;</p></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a></a></p><p class="post-meta"><span class="date meta-item">發佈於&nbsp;2021-07-14</span></p><p class="post-abstract"><p>本篇，我们将会复习一下比较简单但是应用非常广泛的一种数据结构 —— 线性表。</p>
<h2 id="线性表"><a href="#线性表" class="headerlink" title="线性表"></a>线性表</h2><hr>
<p>线性表(List): 零个或多个数据元素的有限序列。</p>
<p>如果用数学语言定义如下:<br>若将线性表记为(a<sub>1</sub>, …, a<sub>i-1</sub>, a<sub>i</sub>, a<sub>i+1</sub>, …, a<sub>n</sub>)，则表中 a<sub>i-1</sub> 领先于 a<sub>i</sub>，a<sub>i</sub> 领先于 a<sub>i+1</sub>，称 a<sub>i-1</sub> 是 a<sub>i</sub> 的直接前驱元素，a<sub>i+1</sub> 是 a<sub>i</sub> 的直接后继元素。当 i = 1, 2, …, n-1 时，a<sub>i</sub> 有且仅有一个直接后继，当 i = 2, …, n 时，a<sub>i</sub> 有且仅有一个直接前驱。</p>
<p>线性表元素的个数 n(n &gt;= 0) 称为线性表的长度，当 n = 0 时，称为空表。</p>
<h3 id="线性表的顺序存储结构"><a href="#线性表的顺序存储结构" class="headerlink" title="线性表的顺序存储结构"></a>线性表的顺序存储结构</h3><p>线性表的顺序存储结构指的是，用一段地址连续的存储单元依次存储线性表的数据元素。<br>一般用一维数组来实现顺序存储结构。</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SqList</span>&lt;<span class="hljs-title">T</span>&gt;<br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> Maxsize = <span class="hljs-number">20</span>;<br>    <span class="hljs-keyword">public</span> T[] Data = <span class="hljs-keyword">new</span> T[Maxsize];<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> Length;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> 获取第 i 位的元素</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;i&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;e&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Status <span class="hljs-title">GetElement</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, <span class="hljs-keyword">out</span> T e</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (Length == <span class="hljs-number">0</span> || i &lt; <span class="hljs-number">0</span> || i &gt;= Length)<br>        &#123;<br>            e = <span class="hljs-literal">default</span>(T);<br>            <span class="hljs-keyword">return</span> Status.Error;<br>        &#125;<br><br>        e = Data[i];<br>        <span class="hljs-keyword">return</span> Status.Ok;<br>    &#125;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> 在第 i 位插入元素</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;i&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;e&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Status <span class="hljs-title">ListInsert</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, T e</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (Length == Maxsize)<br>        &#123;<br>            <span class="hljs-keyword">return</span> Status.Error;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || i &gt; Length)<br>        &#123;<br>            <span class="hljs-keyword">return</span> Status.Error;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (i != Length)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = Length - <span class="hljs-number">1</span>; j &gt;= i; j++)<br>            &#123;<br>                Data[j + <span class="hljs-number">1</span>] = Data[j];<br>            &#125;<br>        &#125;<br>        Data[i] = e;<br>        Length++;<br><br>        <span class="hljs-keyword">return</span> Status.Ok;<br>    &#125;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> 删除第 i 位元素</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;i&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;e&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Status <span class="hljs-title">ListDelete</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, <span class="hljs-keyword">out</span> T e</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (Length == <span class="hljs-number">0</span>)<br>        &#123;<br>            e = <span class="hljs-literal">default</span>(T);<br>            <span class="hljs-keyword">return</span> Status.Error;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || i &gt; Length - <span class="hljs-number">1</span>)<br>        &#123;<br>            e = <span class="hljs-literal">default</span>(T);<br>            <span class="hljs-keyword">return</span> Status.Error;<br>        &#125;<br><br>        e = Data[i];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = i; j &lt; Length; j++)<br>        &#123;<br>            Data[j] = Data[j + <span class="hljs-number">1</span>];<br>        &#125;<br><br>        Length--;<br>        <span class="hljs-keyword">return</span> Status.Ok;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="线性表顺序存储结构的优缺点"><a href="#线性表顺序存储结构的优缺点" class="headerlink" title="线性表顺序存储结构的优缺点"></a>线性表顺序存储结构的优缺点</h3><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul>
<li>可以快速存取表中任一位置元素</li>
</ul>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li>插入和删除操作需要移动大量元素</li>
<li>造成存储空间碎片化</li>
</ul>
<h3 id="线性表的链式存储结构"><a href="#线性表的链式存储结构" class="headerlink" title="线性表的链式存储结构"></a>线性表的链式存储结构</h3><p>线性表的链式存储结构的特点是，可以用一组任意的存储单元存储线性表的数据元素，这组存储单元可以是连续的，也可以是不连续的。</p>
<p>在顺序存储结构中，每个数据元素只需要存储数据元素信息就可以了，但是在链式存储结构中，除了要存储数据元素信息外，还要存储他的后继元素的地址。</p>
<p>因此，为了表示每个数据元素 a<sub>i</sub> 与其直接后继元素 a<sub>i+1</sub> 之间的逻辑关系，对于数据元素 a<sub>i</sub> 来说，除了存储本身信息之外，还需要存储一个指示其直接后继的信息。我们把存储数据元素信息的域称为数据域，把存储直接后继信息的域称为指针域(对于高级语言，我们可以把它理解成对象引用域)。把这两部分组成的数据元素称为节点(Node)。<br>n 个节点链接成一个链表，即线性表的链式存储结构。因为此链表每个节点只有一个指针域，因此称为单链表。</p>
<p>我们把第一个节点的指针域称为头指针。为了方便操作链表，会在单链表的第一个节点前设置一个节点，称为头节点。头节点的数据域不存储任何信息。<br>注意: 如果设置了头节点，那么头节点的指针域存储的就是头指针。</p>
<h3 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h3><figure class="highlight csharp"><table><tr><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Node</span>&lt;<span class="hljs-title">T</span>&gt;<br>&#123;<br>    <span class="hljs-keyword">public</span> T Element;<br>    <span class="hljs-keyword">public</span> Node&lt;T&gt; NextNode;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Node</span>(<span class="hljs-params">T t</span>)</span><br>    &#123;<br>        Element = t;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LinkList</span>&lt;<span class="hljs-title">T</span>&gt;<br>&#123;<br>    <span class="hljs-comment">//头节点(数据域无意义)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Node</span>&lt;<span class="hljs-title">T</span>&gt; HeadNode</span> = <span class="hljs-keyword">new</span> Node&lt;T&gt;(<span class="hljs-literal">default</span>(T));<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Status <span class="hljs-title">GetElement</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, <span class="hljs-keyword">out</span> Node&lt;T&gt; node</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">var</span> temp = HeadNode;<br>        <span class="hljs-keyword">while</span> (temp != <span class="hljs-literal">null</span> &amp;&amp; j &lt; i + <span class="hljs-number">1</span>)<br>        &#123;<br>            temp = temp.NextNode;<br>            j++;<br>        &#125;<br><br>        node = temp;<br>        <span class="hljs-keyword">return</span> temp == <span class="hljs-literal">null</span> ? Status.Error : Status.Ok;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Status <span class="hljs-title">ListInsert</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, Node&lt;T&gt; node</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> status = GetElement(i - <span class="hljs-number">1</span>, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> prevNode);<br>        <span class="hljs-keyword">if</span> (status != Status.Ok) <span class="hljs-keyword">return</span> status;<br>        <br>        node.NextNode = prevNode.NextNode;<br>        prevNode.NextNode = node;<br>        <br>        <span class="hljs-keyword">return</span> status;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Status <span class="hljs-title">ListDelete</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, <span class="hljs-keyword">out</span> Node&lt;T&gt; node</span>)</span><br>    &#123;<br>        node = <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">var</span> status = GetElement(i - <span class="hljs-number">1</span>, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> prevNode);<br>        <span class="hljs-keyword">if</span> (status != Status.Ok) <span class="hljs-keyword">return</span> status;<br><br>        <span class="hljs-keyword">var</span> current = prevNode.NextNode;<br>        prevNode.NextNode = current.NextNode;<br>        node = current;<br>        <br>        <span class="hljs-keyword">return</span> status;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="循环链表"><a href="#循环链表" class="headerlink" title="循环链表"></a>循环链表</h3><p>将单链表中尾节点的指针域指向头节点，使链表形成一个环，这种头尾相接的链表称为单循环链表，简称为循环链表。</p>
<p>循环链表和单链表的主要差异就是判断结束条件由指针域是否为空变为指针域是否是头节点。</p>
<h3 id="双向链表"><a href="#双向链表" class="headerlink" title="双向链表"></a>双向链表</h3><p>双向链表是在单向链表的每个节点中，再设置一个指向前驱节点的指针。所以在双向链表中存在两个指针域，一个指向直接前驱，一个指向直接后继。</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DoubleLinkList</span>&lt;<span class="hljs-title">T</span>&gt;<br>&#123;<br>    <span class="hljs-comment">//头节点(数据域无意义)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Node</span>&lt;<span class="hljs-title">T</span>&gt; HeadNode</span> = <span class="hljs-keyword">new</span> Node&lt;T&gt;(<span class="hljs-literal">default</span>(T));<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Status <span class="hljs-title">GetElement</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, <span class="hljs-keyword">out</span> Node&lt;T&gt; node</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">var</span> temp = HeadNode;<br>        <span class="hljs-keyword">while</span> (temp != <span class="hljs-literal">null</span> &amp;&amp; j &lt; i + <span class="hljs-number">1</span>)<br>        &#123;<br>            temp = temp.NextNode;<br>            j++;<br>        &#125;<br><br>        node = temp;<br>        <span class="hljs-keyword">return</span> temp == <span class="hljs-literal">null</span> ? Status.Error : Status.Ok;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Status <span class="hljs-title">ListInsert</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, Node&lt;T&gt; node</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> status = GetElement(i - <span class="hljs-number">1</span>, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> prevNode);<br>        <span class="hljs-keyword">if</span> (status != Status.Ok) <span class="hljs-keyword">return</span> status;<br><br>        node.PrevNode = prevNode;<br>        node.NextNode = prevNode.NextNode;<br>        prevNode.NextNode.PrevNode = node;<br>        prevNode.NextNode = node;<br><br>        <span class="hljs-keyword">return</span> status;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Status <span class="hljs-title">ListDelete</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, <span class="hljs-keyword">out</span> Node&lt;T&gt; node</span>)</span><br>    &#123;<br>        node = <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">var</span> status = GetElement(i - <span class="hljs-number">1</span>, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> prevNode);<br>        <span class="hljs-keyword">if</span> (status != Status.Ok) <span class="hljs-keyword">return</span> status;<br>        <span class="hljs-keyword">var</span> current = prevNode.NextNode;<br>        current.NextNode.PrevNode = prevNode;<br>        prevNode.NextNode = current.NextNode;<br>        node = current;<br>        <span class="hljs-keyword">return</span> status;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>在对链表进行操作时要记住一个原则: 后继指针很重要，在使用完之前不要赋新值。</p>
</p></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84(%E4%B8%80)/" title=""><i class="fa fa-angle-double-left"></i>&nbsp;上一篇: </a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/IndexedDB%20%E5%9F%BA%E7%A1%80/" title="">下一篇: &nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2021&nbsp;</p><p>如果五分钟后她必须进安检，如果安检在十米之外</p><p>那意味着，你们可以亲吻四分五十秒。&nbsp;</p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>